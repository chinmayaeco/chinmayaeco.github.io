<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Great Depression Simulation</title>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #2c3e50 0%, #4a235a 100%);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            color: white;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5);
        }
        
        .game-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .panel {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            padding: 20px;
            flex: 1;
            min-width: 300px;
        }
        
        .simulation-panel {
            border-top: 5px solid #3498db;
        }
        
        .case-studies {
            border-top: 5px solid #e74c3c;
        }
        
        .managerial-implications {
            border-top: 5px solid #2ecc71;
        }
        
        h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #eee;
        }
        
        h3 {
            color: #3498db;
            margin: 15px 0 10px;
        }
        
        button {
            background-color: #3498db;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px 0;
            transition: background-color 0.3s;
            width: 100%;
            text-align: left;
        }
        
        button:hover {
            background-color: #2980b9;
        }
        
        .question {
            margin-bottom: 15px;
            padding: 15px;
            background-color: #f9f9f9;
            border-left: 4px solid #3498db;
            border-radius: 5px;
        }
        
        .options {
            margin-left: 0;
        }
        
        .score-display {
            text-align: center;
            font-size: 1.2rem;
            margin: 20px 0;
            padding: 15px;
            background-color: rgba(255, 255, 255, 0.9);
            border-radius: 8px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
        }
        
        .password-screen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.85);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }
        
        .password-box {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 5px 25px rgba(0, 0, 0, 0.5);
            width: 90%;
            max-width: 400px;
        }
        
        .password-box input {
            padding: 12px;
            margin: 15px 0;
            width: 100%;
            border: 2px solid #3498db;
            border-radius: 5px;
            font-size: 1rem;
        }
        
        .hidden {
            display: none;
        }
        
        .feedback {
            margin-top: 10px;
            padding: 10px;
            border-radius: 5px;
        }
        
        .correct {
            background-color: #d4edda;
            color: #155724;
            border-left: 4px solid #28a745;
        }
        
        .incorrect {
            background-color: #f8d7da;
            color: #721c24;
            border-left: 4px solid #dc3545;
        }
        
        .concept-definition {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 15px;
            border-left: 4px solid #3498db;
        }
        
        .concept-type {
            font-weight: bold;
            color: #2c3e50;
        }
        
        .depression-factors {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin: 15px 0;
        }
        
        .factor-card {
            background-color: #e8f4fc;
            padding: 15px;
            border-radius: 5px;
            flex: 1;
            min-width: 120px;
            text-align: center;
            font-size: 0.9rem;
            border: 1px solid #3498db;
        }
        
        .interactive-simulation {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
        }
        
        .simulation-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            flex-wrap: wrap;
        }
        
        .timeline-choice {
            padding: 8px 12px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            flex: 1;
        }
        
        .timeline-container {
            width: 100%;
            height: 200px;
            background-color: #f8f9fa;
            margin: 15px 0;
            position: relative;
            border: 1px solid #dee2e6;
            border-radius: 5px;
            padding: 10px;
            overflow-x: auto;
            white-space: nowrap;
        }
        
        .timeline-event {
            display: inline-block;
            width: 120px;
            height: 160px;
            margin-right: 20px;
            background-color: white;
            border-radius: 5px;
            border-left: 4px solid #e74c3c;
            padding: 10px;
            vertical-align: top;
        }
        
        .timeline-year {
            font-weight: bold;
            color: #e74c3c;
            margin-bottom: 5px;
        }
        
        .economic-indicator {
            background-color: #f0f8ff;
            padding: 15px;
            border-radius: 5px;
            margin: 15px 0;
            border-left: 4px solid #2980b9;
        }
        
        .indicator-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: #e74c3c;
            text-align: center;
            margin: 10px 0;
        }
        
        .historical-image {
            width: 100%;
            max-height: 200px;
            object-fit: cover;
            border-radius: 5px;
            margin: 10px 0;
        }
        
        @media (max-width: 768px) {
            .game-container {
                flex-direction: column;
            }
            
            h1 {
                font-size: 2rem;
            }
            
            .simulation-controls {
                flex-direction: column;
            }
            
            .timeline-event {
                width: 100px;
                height: 140px;
                margin-right: 10px;
            }
        }
    </style>
</head>
<body>
    <div class="password-screen" id="passwordScreen">
        <div class="password-box">
            <h2>The Great Depression Simulation</h2>
            <p>Enter the password to access the simulation:</p>
            <input type="password" id="passwordInput" placeholder="Enter password">
            <button onclick="checkPassword()">Enter</button>
            <p id="passwordError" style="color: red; display: none; margin-top: 10px;">Incorrect password. Try again.</p>
        </div>
    </div>

    <div class="container" id="gameContent" style="display: none;">
        <header>
            <h1>The Great Depression Simulation</h1>
            <p>Explore the causes, events, and lessons from the 1929 economic collapse</p>
        </header>
        
        <div class="score-display">
            Your Score: <span id="score">0</span>%
        </div>
        
        <div class="game-container">
            <div class="panel simulation-panel">
                <h2>Simulation Panel</h2>
                <p>Experience the timeline and economic indicators of the Great Depression.</p>
                
                <div class="concept-definition">
                    <span class="concept-type">Key Factors Leading to the Great Depression:</span>
                    <div class="depression-factors">
                        <div class="factor-card">
                            <h4>Stock Market Crash</h4>
                            <p>October 1929 collapse</p>
                        </div>
                        <div class="factor-card">
                            <h4>Banking Crisis</h4>
                            <p>Mass bank failures</p>
                        </div>
                        <div class="factor-card">
                            <h4>Trade Collapse</h4>
                            <p>Smoot-Hawley Tariff</p>
                        </div>
                        <div class="factor-card">
                            <h4>Monetary Policy</h4>
                            <p>Federal Reserve mistakes</p>
                        </div>
                    </div>
                </div>
                
                <div class="economic-indicator">
                    <h3>Economic Impact Simulation</h3>
                    <p>US Unemployment Rate During the Great Depression</p>
                    <div class="indicator-value" id="unemploymentRate">3.2% (1929)</div>
                    <button onclick="simulateNextYear()" style="width: auto;">Simulate Next Year</button>
                    <div id="yearIndicator" style="text-align: center; margin-top: 10px; font-weight: bold;">Year: 1929</div>
                </div>
                
                <div class="timeline-container">
                    <div class="timeline-event">
                        <div class="timeline-year">1928</div>
                        <p>Stock market speculation peaks</p>
                    </div>
                    <div class="timeline-event">
                        <div class="timeline-year">1929</div>
                        <p>Black Thursday (Oct 24) and Black Tuesday (Oct 29)</p>
                    </div>
                    <div class="timeline-event">
                        <div class="timeline-year">1930</div>
                        <p>Smoot-Hawley Tariff enacted</p>
                    </div>
                    <div class="timeline-event">
                        <div class="timeline-year">1931</div>
                        <p>European banking crisis spreads</p>
                    </div>
                    <div class="timeline-event">
                        <div class="timeline-year">1932</div>
                        <p>Unemployment reaches 23.6%</p>
                    </div>
                    <div class="timeline-event">
                        <div class="timeline-year">1933</div>
                        <p>Banking holiday, New Deal begins</p>
                    </div>
                </div>
                
                <div class="interactive-simulation">
                    <h3>Causes Identification Game</h3>
                    <p>Identify which factor contributed most to each aspect of the Depression:</p>
                    <div id="currentAspect" class="economic-indicator">
                        <strong>Current Aspect:</strong> The initial stock market collapse in October 1929
                    </div>
                    <div class="simulation-controls">
                        <button class="timeline-choice" onclick="checkCause('speculation', this)">Stock Speculation & Margin Buying</button>
                        <button class="timeline-choice" onclick="checkCause('monetary', this)">Tight Monetary Policy</button>
                        <button class="timeline-choice" onclick="checkCause('trade', this)">International Trade Issues</button>
                        <button class="timeline-choice" onclick="checkCause('structural', this)">Structural Economic Weaknesses</button>
                    </div>
                    <div id="causeResult" class="feedback"></div>
                </div>
                
                <div id="simulationQuestions">
                    <!-- Questions will be populated by JavaScript -->
                </div>
            </div>
            
            <div class="panel case-studies">
                <h2>Case Studies</h2>
                <p>Examine specific events and policies during the Great Depression.</p>
                
                <div class="question">
                    <p><strong>Case 1:</strong> The Smoot-Hawley Tariff Act of 1930 raised US tariffs on over 20,000 imported goods to record levels. Other countries retaliated with their own tariffs, leading to a collapse in international trade.</p>
                    <p>What was the primary economic consequence of this protectionist policy?</p>
                    <div class="options" id="case1Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback4" class="feedback"></div>
                </div>
                
                <div class="question">
                    <p><strong>Case 2:</strong> Between 1929 and 1933, approximately 9,000 banks failed in the United States. Many banks had invested heavily in the stock market or made risky loans that defaulted during the economic downturn.</p>
                    <p>How did these bank failures exacerbate the Depression?</p>
                    <div class="options" id="case2Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback5" class="feedback"></div>
                </div>
                
                <div class="question">
                    <p><strong>Case 3:</strong> The Federal Reserve, concerned about stock market speculation and gold outflows, raised interest rates in 1928-1929. After the crash, they maintained relatively tight monetary policy instead of providing liquidity.</p>
                    <p>How did Federal Reserve policy contribute to the severity of the Depression?</p>
                    <div class="options" id="case3Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback6" class="feedback"></div>
                </div>
            </div>
            
            <div class="panel managerial-implications">
                <h2>Managerial Implications</h2>
                <p>Learn the economic lessons and business strategies from the Great Depression.</p>
                
                <div class="question">
                    <p>1. What risk management lesson from the 1929 crash is most relevant for modern businesses?</p>
                    <div class="options" id="managerial1Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback7" class="feedback"></div>
                </div>
                
                <div class="question">
                    <p>2. How did companies that survived the Depression typically adapt their strategies?</p>
                    <div class="options" id="managerial2Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback8" class="feedback"></div>
                </div>
                
                <div class="question">
                    <p>3. What does the banking crisis of the 1930s teach about corporate financial management?</p>
                    <div class="options" id="managerial3Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback9" class="feedback"></div>
                </div>
                
                <div class="question">
                    <p>4. How can businesses prepare for economic downturns based on Depression-era lessons?</p>
                    <div class="options" id="managerial4Options">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                    <div id="feedback10" class="feedback"></div>
                </div>
                
                <div class="economic-indicator">
                    <h3>Key Economic Lessons</h3>
                    <ul>
                        <li>The importance of counter-cyclical fiscal policy</li>
                        <li>The danger of protectionist trade policies</li>
                        <li>The need for banking regulation and deposit insurance</li>
                        <li>The role of monetary policy in economic stabilization</li>
                        <li>The value of social safety nets during economic crises</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Password protection
        const correctPassword = "Depression1929";
        let score = 0;
        const maxPossibleScore = 95; // Ensures no one can score 100%
        
        // Questions with randomized answer positions
        const questions = [
            {
                id: 1,
                text: "What was the immediate trigger of the Great Depression in October 1929?",
                options: [
                    "The collapse of the stock market",
                    "A major bank failure in Europe",
                    "A sudden increase in interest rates",
                    "The passage of protective tariffs"
                ],
                correct: 0,
                feedback: {
                    correct: "Correct! The stock market crash of October 1929 was the immediate trigger, though underlying economic weaknesses had been building.",
                    incorrect: "Incorrect. While other factors contributed, the stock market crash was the immediate trigger that began the Great Depression."
                }
            },
            {
                id: 2,
                text: "What percentage did the US stock market lose from its 1929 peak to its 1932 bottom?",
                options: [
                    "About 50%",
                    "About 70%",
                    "About 85%",
                    "About 95%"
                ],
                correct: 2,
                feedback: {
                    correct: "Right! The Dow Jones Industrial Average lost approximately 89% of its value from 1929 to 1932.",
                    incorrect: "No, the decline was much more severe - nearly 90% from peak to trough."
                }
            },
            {
                id: 3,
                text: "Which of these was NOT a major cause of the Great Depression?",
                options: [
                    "Excessive stock market speculation on margin",
                    "The Federal Reserve's tight monetary policy",
                    "High protective tariffs reducing international trade",
                    "Major technological stagnation in the 1920s"
                ],
                correct: 3,
                feedback: {
                    correct: "Yes! The 1920s actually saw significant technological innovation, which was not a cause of the Depression.",
                    incorrect: "Actually, the 1920s were a period of technological advancement, not stagnation."
                }
            },
            {
                id: 4,
                text: "In Case 1, what was the primary consequence of Smoot-Hawley tariffs?",
                options: [
                    "Increased government revenue",
                    "Collapse in international trade",
                    "Rapid economic recovery",
                    "Stable agricultural prices"
                ],
                correct: 1,
                feedback: {
                    correct: "Exactly! Global trade collapsed by about 66% between 1929 and 1934 due to retaliatory tariffs.",
                    incorrect: "The main consequence was a dramatic reduction in international trade as countries retaliated."
                }
            },
            {
                id: 5,
                text: "In Case 2, how did bank failures exacerbate the Depression?",
                options: [
                    "They had minimal impact on the economy",
                    "They destroyed savings and reduced money supply",
                    "They increased international confidence in US banks",
                    "They led to immediate government bailouts"
                ],
                correct: 1,
                feedback: {
                    correct: "Right! Bank failures wiped out savings and caused a contraction in the money supply, deepening the Depression.",
                    incorrect: "Bank failures had devastating effects by destroying savings and reducing the money supply."
                }
            },
            {
                id: 6,
                text: "In Case 3, how did Federal Reserve policy contribute?",
                options: [
                    "By providing too much liquidity to banks",
                    "By maintaining tight money when expansion was needed",
                    "By lowering interest rates too quickly",
                    "By focusing only on unemployment"
                ],
                correct: 1,
                feedback: {
                    correct: "Correct! The Fed maintained relatively tight monetary policy instead of providing liquidity, worsening deflation.",
                    incorrect: "The Fed's mistake was maintaining tight monetary policy when the economy needed expansionary policy."
                }
            },
            {
                id: 7,
                text: "What risk management lesson from 1929 is most relevant today?",
                options: [
                    "Ignore market speculation as it always corrects itself",
                    "Maintain excessive leverage during boom periods",
                    "Diversify investments and avoid excessive debt",
                    "Focus only on short-term profits"
                ],
                correct: 2,
                feedback: {
                    correct: "Yes! Diversification and avoiding excessive debt are crucial lessons from the over-leveraged speculation of the 1920s.",
                    incorrect: "The key lesson is the danger of excessive debt and lack of diversification, not ignoring risks."
                }
            },
            {
                id: 8,
                text: "How did surviving companies adapt during the Depression?",
                options: [
                    "They focused only on cutting costs and laying off workers",
                    "They invested in innovation and found new markets",
                    "They relied entirely on government support",
                    "They stopped all research and development"
                ],
                correct: 1,
                feedback: {
                    correct: "Right! Successful companies often innovated, found new markets, and adapted their products for changing consumer needs.",
                    incorrect: "Surviving companies typically adapted through innovation and finding new opportunities, not just cost-cutting."
                }
            },
            {
                id: 9,
                text: "What does the 1930s banking crisis teach about financial management?",
                options: [
                    "Banks should never fail in a market economy",
                    "Liquidity and conservative lending are crucial",
                    "Government should control all banking operations",
                    "Depositors don't need protection"
                ],
                correct: 1,
                feedback: {
                    correct: "Correct! The crisis showed the importance of liquidity, conservative lending practices, and regulatory oversight.",
                    incorrect: "The key lesson is the importance of liquidity and prudent lending, not complete government control."
                }
            },
            {
                id: 10,
                text: "How can businesses prepare for economic downturns?",
                options: [
                    "By maximizing debt during good times",
                    "By maintaining cash reserves and flexible operations",
                    "By focusing only on the domestic market",
                    "By avoiding all long-term planning"
                ],
                correct: 1,
                feedback: {
                    correct: "Yes! Maintaining cash reserves, flexible operations, and diversified revenue streams help businesses weather economic storms.",
                    incorrect: "Preparation involves prudent financial management and operational flexibility, not avoiding planning."
                }
            }
        ];

        // Depression aspects for the cause identification game
        const depressionAspects = [
            { aspect: "The initial stock market collapse in October 1929", cause: "speculation" },
            { aspect: "The wave of bank failures between 1930-1933", cause: "monetary" },
            { aspect: "The dramatic decline in international trade", cause: "trade" },
            { aspect: "The prolonged duration of high unemployment", cause: "structural" },
            { aspect: "The deflationary spiral of 1930-1932", cause: "monetary" },
            { aspect: "The agricultural crisis throughout the 1930s", cause: "structural" },
            { aspect: "The collapse of business investment", cause: "speculation" },
            { aspect: "The failure of recovery policies in early 1930s", cause: "monetary" }
        ];
        
        // Unemployment data by year
        const unemploymentData = [
            { year: 1929, rate: 3.2 },
            { year: 1930, rate: 8.7 },
            { year: 1931, rate: 15.9 },
            { year: 1932, rate: 23.6 },
            { year: 1933, rate: 24.9 },
            { year: 1934, rate: 21.7 },
            { year: 1935, rate: 20.1 },
            { year: 1936, rate: 16.9 },
            { year: 1937, rate: 14.3 },
            { year: 1938, rate: 19.0 },
            { year: 1939, rate: 17.2 },
            { year: 1940, rate: 14.6 }
        ];
        
        let currentAspectIndex = 0;
        let currentYearIndex = 0;
        
        function checkPassword() {
            const input = document.getElementById('passwordInput').value;
            if (input === correctPassword) {
                document.getElementById('passwordScreen').style.display = 'none';
                document.getElementById('gameContent').style.display = 'block';
                initializeGame();
            } else {
                document.getElementById('passwordError').style.display = 'block';
            }
        }
        
        function initializeGame() {
            // Shuffle questions and create HTML
            const shuffledQuestions = [...questions].sort(() => Math.random() - 0.5);
            
            // Populate simulation questions (first 3)
            const simulationContainer = document.getElementById('simulationQuestions');
            shuffledQuestions.slice(0, 3).forEach((q, index) => {
                const questionDiv = document.createElement('div');
                questionDiv.className = 'question';
                questionDiv.innerHTML = `
                    <p>${q.text}</p>
                    <div class="options" id="options${q.id}"></div>
                    <div id="feedback${q.id}" class="feedback"></div>
                `;
                simulationContainer.appendChild(questionDiv);
                
                // Shuffle and populate options
                const optionsContainer = document.getElementById(`options${q.id}`);
                const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);
                const correctIndex = shuffledOptions.indexOf(q.options[q.correct]);
                
                shuffledOptions.forEach((option, optIndex) => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.onclick = function() { 
                        answerQuestion(q.id, optIndex === correctIndex, this, q.feedback); 
                    };
                    optionsContainer.appendChild(button);
                });
            });
            
            // Populate case study questions (next 3)
            const caseQuestions = shuffledQuestions.slice(3, 6);
            caseQuestions.forEach((q, index) => {
                const caseNum = index + 4;
                const optionsContainer = document.getElementById(`case${caseNum-3}Options`);
                const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);
                const correctIndex = shuffledOptions.indexOf(q.options[q.correct]);
                
                shuffledOptions.forEach((option, optIndex) => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.onclick = function() { 
                        answerQuestion(q.id, optIndex === correctIndex, this, q.feedback); 
                    };
                    optionsContainer.appendChild(button);
                });
            });
            
            // Populate managerial questions (last 4)
            const managerialQuestions = shuffledQuestions.slice(6);
            managerialQuestions.forEach((q, index) => {
                const managerialNum = index + 7;
                const optionsContainer = document.getElementById(`managerial${managerialNum-6}Options`);
                const shuffledOptions = [...q.options].sort(() => Math.random() - 0.5);
                const correctIndex = shuffledOptions.indexOf(q.options[q.correct]);
                
                shuffledOptions.forEach((option, optIndex) => {
                    const button = document.createElement('button');
                    button.textContent = option;
                    button.onclick = function() { 
                        answerQuestion(q.id, optIndex === correctIndex, this, q.feedback); 
                    };
                    optionsContainer.appendChild(button);
                });
            });
        }
        
        function simulateNextYear() {
            if (currentYearIndex < unemploymentData.length - 1) {
                currentYearIndex++;
                const currentData = unemploymentData[currentYearIndex];
                document.getElementById('unemploymentRate').textContent = 
                    `${currentData.rate}% (${currentData.year})`;
                document.getElementById('yearIndicator').textContent = `Year: ${currentData.year}`;
                
                // Add to score for using simulation
                score += 1;
                updateScore();
            } else {
                document.getElementById('yearIndicator').textContent = 
                    "Simulation Complete - The New Deal and WWII eventually reduced unemployment";
            }
        }
        
        function checkCause(choice, button) {
            const resultElement = document.getElementById('causeResult');
            const correctCause = depressionAspects[currentAspectIndex].cause;
            
            if (choice === correctCause) {
                resultElement.innerHTML = `
                    <strong>Correct!</strong> ${getCauseExplanation(correctCause)}
                `;
                resultElement.className = 'feedback correct';
                
                // Add to score for correct identification
                score += 2;
                updateScore();
            } else {
                resultElement.innerHTML = `
                    <strong>Incorrect.</strong> ${getCauseExplanation(correctCause)}
                `;
                resultElement.className = 'feedback incorrect';
            }
            
            // Move to next aspect after a delay
            setTimeout(nextAspect, 2500);
        }
        
        function getCauseExplanation(cause) {
            const explanations = {
                'speculation': 'Excessive stock market speculation with borrowed money (buying on margin) created a bubble that inevitably burst.',
                'monetary': 'The Federal Reserve maintained tight monetary policy and failed to provide liquidity, worsening bank failures and deflation.',
                'trade': 'Protectionist policies like the Smoot-Hawley Tariff led to international trade wars, collapsing global commerce.',
                'structural': 'Underlying economic weaknesses including agricultural depression and income inequality made the economy vulnerable.'
            };
            return explanations[cause];
        }
        
        function nextAspect() {
            currentAspectIndex = (currentAspectIndex + 1) % depressionAspects.length;
            const aspectElement = document.getElementById('currentAspect');
            aspectElement.innerHTML = `
                <strong>Current Aspect:</strong> ${depressionAspects[currentAspectIndex].aspect}
            `;
            
            // Clear the previous result
            document.getElementById('causeResult').innerHTML = '';
            document.getElementById('causeResult').className = 'feedback';
        }
        
        function updateScore() {
            // Update score display (capped at maxPossibleScore)
            const displayScore = Math.min(score, maxPossibleScore);
            document.getElementById('score').textContent = displayScore;
        }
        
        function answerQuestion(questionId, isCorrect, button, feedback) {
            const feedbackElement = document.getElementById(`feedback${questionId}`);
            
            // If already answered, don't allow answering again
            if (feedbackElement.innerHTML !== '') return;
            
            if (isCorrect) {
                // Correct answer
                feedbackElement.innerHTML = feedback.correct;
                feedbackElement.className = 'feedback correct';
                score += 10; // Each question is worth 10 points
            } else {
                // Incorrect answer
                feedbackElement.innerHTML = feedback.incorrect;
                feedbackElement.className = 'feedback incorrect';
            }
            
            // Update score display
            updateScore();
            
            // Disable all buttons for this question
            const buttons = button.parentElement.getElementsByTagName('button');
            for (let btn of buttons) {
                btn.disabled = true;
            }
        }
        
        // Initialize the first aspect
        window.onload = function() {
            if (document.getElementById('currentAspect')) {
                document.getElementById('currentAspect').innerHTML = `
                    <strong>Current Aspect:</strong> ${depressionAspects[0].aspect}
                `;
            }
        };
    </script>
</body>
</html>
