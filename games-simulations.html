<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Business Economics Simulation - Dr. Chinmaya Behera</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/aos@2.3.1/dist/aos.js"></script>
  <style>
    :root {
      --primary-color: #4361ee;
      --primary-light: #4895ef;
      --primary-dark: #3a0ca3;
      --secondary-color: #f72585;
      --success-color: #4cc9f0;
      --warning-color: #f8961e;
      --error-color: #ef233c;
      --dark-color: #2b2d42;
      --light-color: #f8f9fa;
    }

    .simulation-container {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 2rem;
      background: var(--light-color);
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      border: 1px solid rgba(0,0,0,0.05);
    }
    
    .login-container {
      max-width: 500px;
      margin: 5rem auto;
      padding: 2.5rem;
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      text-align: center;
    }
    
    .login-container h1 {
      color: var(--primary-color);
      margin-bottom: 1.5rem;
    }
    
    .login-container input {
      width: 100%;
      padding: 1rem;
      margin: 1rem 0;
      border: 2px solid #e9ecef;
      border-radius: 10px;
      font-size: 1rem;
      transition: all 0.3s ease;
    }
    
    .login-container input:focus {
      border-color: var(--primary-color);
      outline: none;
      box-shadow: 0 0 0 3px rgba(67, 97, 238, 0.2);
    }
    
    .error-message {
      color: var(--error-color);
      margin-top: 1rem;
      display: none;
    }
    
    .theme-tabs {
      display: flex;
      margin-bottom: 2rem;
      border-bottom: 2px solid #e9ecef;
      overflow-x: auto;
      padding-bottom: 2px;
    }
    
    .theme-tab {
      padding: 1rem 2rem;
      cursor: pointer;
      border-bottom: 4px solid transparent;
      transition: all 0.3s ease;
      font-weight: 600;
      color: var(--dark-color);
      white-space: nowrap;
    }
    
    .theme-tab.active {
      border-bottom: 4px solid var(--primary-color);
      color: var(--primary-color);
      background: rgba(67, 97, 238, 0.05);
    }
    
    .theme-content {
      display: none;
      animation: fadeIn 0.5s ease;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(10px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .theme-content.active {
      display: block;
    }
    
    /* Trade-off Section */
    .tradeoff-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .tradeoff-options {
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }
    
    .tradeoff-option {
      padding: 1.5rem;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
    }
    
    .tradeoff-option:hover {
      border-color: var(--primary-light);
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.1);
    }
    
    .tradeoff-option.selected {
      border-color: var(--primary-color);
      background: rgba(67, 97, 238, 0.05);
    }
    
    .tradeoff-option h4 {
      color: var(--primary-dark);
      margin-top: 0;
    }
    
    .tradeoff-visual {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .tradeoff-graph {
      width: 100%;
      height: 300px;
      margin-top: 1rem;
    }
    
    /* Market Section */
    .market-simulator {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
      background: white;
      padding: 2rem;
      border-radius: 15px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .market-controls {
      display: flex;
      flex-direction: column;
      gap: 1.5rem;
    }
    
    .control-group {
      background: rgba(248, 249, 250, 0.8);
      padding: 1.5rem;
      border-radius: 12px;
      border-left: 4px solid var(--primary-color);
    }
    
    .market-slider {
      margin: 1rem 0;
    }
    
    .market-slider label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 500;
      color: var(--dark-color);
    }
    
    .market-slider input[type="range"] {
      width: 100%;
      height: 8px;
      -webkit-appearance: none;
      background: #e9ecef;
      border-radius: 5px;
      outline: none;
    }
    
    .market-slider input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 20px;
      height: 20px;
      background: var(--primary-color);
      border-radius: 50%;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    
    .market-slider input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      background: var(--primary-dark);
    }
    
    .market-value {
      font-weight: bold;
      color: var(--primary-color);
      margin-top: 0.5rem;
    }
    
    .market-visual {
      background: white;
      padding: 1.5rem;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .market-graph {
      width: 100%;
      height: 400px;
    }
    
    /* Theories Section */
    .theory-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }
    
    .theory-card {
      padding: 1.5rem;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      cursor: pointer;
      transition: all 0.3s ease;
      background: white;
    }
    
    .theory-card:hover {
      border-color: var(--primary-light);
      transform: translateY(-5px);
      box-shadow: 0 10px 20px rgba(67, 97, 238, 0.1);
    }
    
    .theory-card h3 {
      color: var(--primary-dark);
      margin-top: 0;
    }
    
    .theory-explanation {
      max-height: 0;
      overflow: hidden;
      transition: max-height 0.5s ease;
      margin-top: 0;
    }
    
    .theory-card.active .theory-explanation {
      max-height: 500px;
      margin-top: 1rem;
    }
    
    /* Analysis Section */
    .analysis-container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 2rem;
    }
    
    .analysis-type {
      padding: 1.5rem;
      border-radius: 12px;
      background: white;
      box-shadow: 0 5px 15px rgba(0,0,0,0.05);
    }
    
    .analysis-type h3 {
      margin-top: 0;
    }
    
    .positive-analysis {
      border-left: 4px solid var(--success-color);
    }
    
    .normative-analysis {
      border-left: 4px solid var(--warning-color);
    }
    
    .analysis-example {
      margin-top: 1rem;
      padding: 1rem;
      background: rgba(248, 249, 250, 0.8);
      border-radius: 8px;
    }
    
    /* Buttons */
    .btn {
      padding: 0.8rem 1.5rem;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      border: none;
    }
    
    .btn-primary {
      background: var(--primary-color);
      color: white;
    }
    
    .btn-primary:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.3);
    }
    
    .btn-secondary {
      background: white;
      color: var(--primary-color);
      border: 2px solid var(--primary-color);
    }
    
    .btn-secondary:hover {
      background: rgba(67, 97, 238, 0.05);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(67, 97, 238, 0.1);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .tradeoff-container,
      .market-simulator,
      .analysis-container {
        grid-template-columns: 1fr;
      }
      
      .theme-tabs {
        flex-wrap: wrap;
      }
      
      .theme-tab {
        padding: 0.8rem 1rem;
      }
    }
  </style>
</head>
<body onload="AOS.init();">
  <!-- Login Screen -->
  <div class="login-container" id="loginSection">
    <h1>Business Economics Simulation</h1>
    <p>Enter password to access the simulation</p>
    <input type="password" id="passwordInput" placeholder="Enter password">
    <button class="btn-primary" onclick="checkPassword()">Access Simulation</button>
    <div class="error-message" id="errorMessage">Incorrect password. Please try again.</div>
  </div>

  <!-- Main Simulation -->
  <div class="simulation-container" id="simulationSection" style="display: none;">
    <header class="navbar">
      <nav>
        <ul>
          <li><a href="index.html">About</a></li>
          <li><a href="education.html">Education</a></li>
          <li><a href="publications.html">Publications</a></li>
          <li><a href="teaching.html">Teaching</a></li>
          <li><a href="projects.html">Projects</a></li>
          <li><a href="skills.html">Skill</a></li>
          <li><a href="games-simulations.html">Games</a></li>
          <li><a href="contact.html">Contact</a></li>
        </ul>
      </nav>
    </header>

    <main class="container-main">
      <h1>Business Economics Simulation</h1>
      <p class="subtitle">Explore key concepts in business economics through interactive simulations</p>
      
      <div class="theme-tabs">
        <div class="theme-tab active" onclick="switchTheme('tradeoffs')">Trade-offs</div>
        <div class="theme-tab" onclick="switchTheme('markets')">Prices & Markets</div>
        <div class="theme-tab" onclick="switchTheme('theories')">Theories & Models</div>
        <div class="theme-tab" onclick="switchTheme('analysis')">Analysis Types</div>
      </div>
      
      <!-- Trade-offs Theme -->
      <div id="tradeoffs-theme" class="theme-content active">
        <h2>Understanding Trade-offs in Business Decisions</h2>
        <p>Every business decision involves trade-offs between competing alternatives. Explore how different choices affect your production possibilities.</p>
        
        <div class="tradeoff-container">
          <div class="tradeoff-options">
            <div class="control-group">
              <h3>Production Choices</h3>
              <p>Your factory can produce two products with limited resources. Choose your production mix:</p>
            </div>
            
            <div class="tradeoff-option selected" onclick="selectTradeoff(this, 'balanced')">
              <h4>Balanced Production</h4>
              <p>Equal allocation to both products</p>
              <p><strong>Output:</strong> 50 Product A, 50 Product B</p>
            </div>
            
            <div class="tradeoff-option" onclick="selectTradeoff(this, 'focusA')">
              <h4>Focus on Product A</h4>
              <p>Prioritize Product A production</p>
              <p><strong>Output:</strong> 80 Product A, 20 Product B</p>
            </div>
            
            <div class="tradeoff-option" onclick="selectTradeoff(this, 'focusB')">
              <h4>Focus on Product B</h4>
              <p>Prioritize Product B production</p>
              <p><strong>Output:</strong> 20 Product A, 80 Product B</p>
            </div>
            
            <div class="tradeoff-option" onclick="selectTradeoff(this, 'custom')">
              <h4>Custom Mix</h4>
              <p>Set your own production ratio</p>
              <div class="form-group">
                <label for="productARatio">Product A Ratio (0-100%)</label>
                <input type="range" id="productARatio" min="0" max="100" value="50" oninput="updateCustomTradeoff()">
                <div class="market-value">50%</div>
              </div>
            </div>
          </div>
          
          <div class="tradeoff-visual">
            <div class="control-group">
              <h3>Production Possibility Frontier</h3>
              <p>Visual representation of possible production combinations</p>
            </div>
            <div class="tradeoff-graph">
              <canvas id="tradeoffChart"></canvas>
            </div>
            <div id="tradeoffResult" class="result-value" style="margin-top: 1rem; background: rgba(67, 97, 238, 0.1); padding: 0.8rem; border-radius: 8px;">
              <strong>Current Output:</strong> 50 Product A, 50 Product B
            </div>
          </div>
        </div>
      </div>
      
      <!-- Prices & Markets Theme -->
      <div id="markets-theme" class="theme-content">
        <h2>Prices & Market Equilibrium</h2>
        <p>Explore how supply and demand interact to determine market prices and quantities.</p>
        
        <div class="market-simulator">
          <div class="market-controls">
            <div class="control-group">
              <h3>Market Controls</h3>
              <p>Adjust the parameters to see how markets respond</p>
            </div>
            
            <div class="control-group">
              <div class="market-slider">
                <label for="demandShift">Demand Shift</label>
                <input type="range" id="demandShift" min="-50" max="50" value="0" oninput="updateMarketSimulation()">
                <div class="market-value">0%</div>
              </div>
            </div>
            
            <div class="control-group">
              <div class="market-slider">
                <label for="supplyShift">Supply Shift</label>
                <input type="range" id="supplyShift" min="-50" max="50" value="0" oninput="updateMarketSimulation()">
                <div class="market-value">0%</div>
              </div>
            </div>
            
            <div class="control-group">
              <div class="market-slider">
                <label for="priceCeiling">Price Ceiling</label>
                <input type="range" id="priceCeiling" min="0" max="200" value="100" oninput="updateMarketSimulation()">
                <div class="market-value">₹100</div>
              </div>
            </div>
            
            <div class="control-group">
              <div class="market-slider">
                <label for="priceFloor">Price Floor</label>
                <input type="range" id="priceFloor" min="0" max="200" value="0" oninput="updateMarketSimulation()">
                <div class="market-value">₹0 (No floor)</div>
              </div>
            </div>
            
            <button class="btn-secondary" onclick="resetMarket()">Reset to Equilibrium</button>
          </div>
          
          <div class="market-visual">
            <div class="control-group">
              <h3>Market Equilibrium</h3>
              <p>Visual representation of supply and demand</p>
            </div>
            <div class="market-graph">
              <canvas id="marketChart"></canvas>
            </div>
            <div id="marketResult" class="result-value" style="margin-top: 1rem; background: rgba(67, 97, 238, 0.1); padding: 0.8rem; border-radius: 8px;">
              <strong>Equilibrium Price:</strong> ₹100 | <strong>Equilibrium Quantity:</strong> 50 units
            </div>
          </div>
        </div>
      </div>
      
      <!-- Theories & Models Theme -->
      <div id="theories-theme" class="theme-content">
        <h2>Economic Theories & Business Models</h2>
        <p>Explore how different economic theories explain business behavior and market outcomes.</p>
        
        <div class="theory-container">
          <div class="theory-card" onclick="explainTheory('comparative')">
            <h3>Comparative Advantage</h3>
            <p>Countries should specialize in producing goods where they have a lower opportunity cost.</p>
            <div class="theory-explanation" id="comparativeExplanation">
              <p>This theory explains why countries trade even when one country is more efficient at producing all goods. It demonstrates how specialization and trade can benefit all parties.</p>
              <div class="analysis-example">
                <p><strong>Example:</strong> Even if Country A is better at producing both cars and computers than Country B, both can benefit if A specializes in cars (where its advantage is greatest) and B specializes in computers (where its disadvantage is smallest).</p>
              </div>
            </div>
          </div>
          
          <div class="theory-card" onclick="explainTheory('game')">
            <h3>Game Theory</h3>
            <p>Studies strategic interactions where the outcome for each participant depends on the actions of others.</p>
            <div class="theory-explanation" id="gameExplanation">
              <p>Game theory helps explain competitive behavior, pricing strategies, and cooperation in business. The Prisoner's Dilemma is a classic example showing why cooperation is difficult even when it's mutually beneficial.</p>
              <div class="analysis-example">
                <p><strong>Example:</strong> Two competing firms deciding whether to lower prices. While both would benefit from keeping prices high, each has an incentive to undercut the other, leading to a worse outcome for both.</p>
              </div>
            </div>
          </div>
          
          <div class="theory-card" onclick="explainTheory('keynesian')">
            <h3>Keynesian Economics</h3>
            <p>Emphasizes the role of government intervention in stabilizing the economy.</p>
            <div class="theory-explanation" id="keynesianExplanation">
              <p>This theory suggests that during recessions, private sector decisions can lead to inefficient outcomes (like unemployment), and government spending can help stimulate demand and restore growth.</p>
              <div class="analysis-example">
                <p><strong>Example:</strong> During an economic downturn, government infrastructure projects can create jobs and increase spending, which then supports businesses throughout the economy.</p>
              </div>
            </div>
          </div>
          
          <div class="theory-card" onclick="explainTheory('monetarist')">
            <h3>Monetarist Theory</h3>
            <p>Focuses on the role of governments in controlling the money supply.</p>
            <div class="theory-explanation" id="monetaristExplanation">
              <p>Monetarists believe that variations in the money supply have major influences on national output in the short run and the price level over longer periods.</p>
              <div class="analysis-example">
                <p><strong>Example:</strong> Central banks adjusting interest rates to control inflation and stabilize the currency.</p>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Positive vs Normative Theme -->
      <div id="analysis-theme" class="theme-content">
        <h2>Positive vs Normative Analysis</h2>
        <p>Understand the difference between objective economic analysis and value-based policy recommendations.</p>
        
        <div class="analysis-container">
          <div class="analysis-type positive-analysis">
            <h3>Positive Analysis</h3>
            <p>Objective, fact-based statements about how the economy works</p>
            <p><em>"What is" or "What will be"</em></p>
            
            <div class="analysis-example">
              <h4>Example Statements:</h4>
              <ul>
                <li>"A 10% increase in the minimum wage will lead to a 2% reduction in employment among low-wage workers."</li>
                <li>"Free trade agreements have increased GDP growth by 1.5% annually."</li>
              </ul>
              
              <div class="form-group" style="margin-top: 1rem;">
                <label>Try writing your own positive statement:</label>
                <input type="text" id="positiveStatement" class="form-control" placeholder="Enter a factual economic statement">
                <button class="btn-secondary" onclick="analyzeStatement('positive')" style="margin-top: 0.5rem;">Analyze</button>
              </div>
            </div>
          </div>
          
          <div class="analysis-type normative-analysis">
            <h3>Normative Analysis</h3>
            <p>Value-based judgments about how the economy should work</p>
            <p><em>"What ought to be"</em></p>
            
            <div class="analysis-example">
              <h4>Example Statements:</h4>
              <ul>
                <li>"The government should increase the minimum wage to reduce income inequality."</li>
                <li>"We ought to restrict imports to protect domestic jobs."</li>
              </ul>
              
              <div class="form-group" style="margin-top: 1rem;">
                <label>Try writing your own normative statement:</label>
                <input type="text" id="normativeStatement" class="form-control" placeholder="Enter a policy recommendation">
                <button class="btn-secondary" onclick="analyzeStatement('normative')" style="margin-top: 0.5rem;">Analyze</button>
              </div>
            </div>
          </div>
        </div>
        
        <div id="analysisResult" style="margin-top: 2rem; padding: 1.5rem; background: white; border-radius: 12px; box-shadow: 0 5px 15px rgba(0,0,0,0.05); display: none;">
          <h3>Analysis Result</h3>
          <p id="analysisResultText"></p>
        </div>
      </div>
    </main>
  </div>

  <script>
    // Password protection
    const CORRECT_PASSWORD = "econ123";
    
    function checkPassword() {
      const enteredPassword = document.getElementById('passwordInput').value;
      const errorMessage = document.getElementById('errorMessage');
      const loginSection = document.getElementById('loginSection');
      const simulationSection = document.getElementById('simulationSection');
      
      if (enteredPassword === CORRECT_PASSWORD) {
        loginSection.style.display = 'none';
        simulationSection.style.display = 'block';
        errorMessage.style.display = 'none';
        initSimulations();
      } else {
        errorMessage.style.display = 'block';
        document.getElementById('passwordInput').value = '';
      }
    }
    
    // Allow pressing Enter to submit password
    document.getElementById('passwordInput').addEventListener('keyup', function(event) {
      if (event.key === 'Enter') {
        checkPassword();
      }
    });
    
    // Initialize all simulations
    function initSimulations() {
      initTradeoffChart();
      initMarketChart();
    }
    
    // Theme switching
    function switchTheme(theme) {
      // Hide all themes
      document.querySelectorAll('.theme-content').forEach(content => {
        content.classList.remove('active');
      });
      
      // Deactivate all tabs
      document.querySelectorAll('.theme-tab').forEach(tab => {
        tab.classList.remove('active');
      });
      
      // Show selected theme
      document.getElementById(theme + '-theme').classList.add('active');
      
      // Activate selected tab
      event.currentTarget.classList.add('active');
    }
    
    // Trade-off Simulation
    let tradeoffChart;
    let currentTradeoff = 'balanced';
    
    function initTradeoffChart() {
      const ctx = document.getElementById('tradeoffChart').getContext('2d');
      
      tradeoffChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: ['100A/0B', '75A/25B', '50A/50B', '25A/75B', '0A/100B'],
          datasets: [{
            label: 'Production Possibility Frontier',
            data: [100, 90, 80, 70, 60],
            borderColor: '#4361ee',
            backgroundColor: 'rgba(67, 97, 238, 0.1)',
            fill: true,
            tension: 0.1,
            borderWidth: 2
          }, {
            label: 'Current Production',
            data: [null, null, 80, null, null],
            pointBackgroundColor: '#f72585',
            pointRadius: 8,
            pointHoverRadius: 10,
            showLine: false
          }]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                boxWidth: 12,
                padding: 20,
                font: {
                  size: 12
                }
              }
            },
            tooltip: {
              backgroundColor: 'rgba(0,0,0,0.8)',
              titleFont: {
                size: 14
              },
              bodyFont: {
                size: 12
              }
            }
          },
          scales: {
            y: {
              title: {
                display: true,
                text: 'Product B Output',
                font: {
                  weight: 'bold'
                }
              },
              beginAtZero: true,
              grid: {
                color: 'rgba(0,0,0,0.05)'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Product A Output',
                font: {
                  weight: 'bold'
                }
              },
              grid: {
                color: 'rgba(0,0,0,0.05)'
              }
            }
          }
        }
      });
    }
    
    function selectTradeoff(element, type) {
      document.querySelectorAll('.tradeoff-option').forEach(opt => {
        opt.classList.remove('selected');
      });
      element.classList.add('selected');
      currentTradeoff = type;
      
      updateTradeoffChart();
    }
    
    function updateCustomTradeoff() {
      const ratio = document.getElementById('productARatio').value;
      document.querySelector('.market-value').textContent = ratio + '%';
      
      if (currentTradeoff === 'custom') {
        updateTradeoffChart();
      }
    }
    
    function updateTradeoffChart() {
      let pointA, pointB;
      
      switch(currentTradeoff) {
        case 'balanced':
          pointA = 50;
          pointB = 50;
          break;
        case 'focusA':
          pointA = 80;
          pointB = 20;
          break;
        case 'focusB':
          pointA = 20;
          pointB = 80;
          break;
        case 'custom':
          const ratio = document.getElementById('productARatio').value;
          pointA = ratio;
          pointB = 100 - ratio;
          break;
      }
      
      // Update chart data
      tradeoffChart.data.datasets[1].data = [null, null, null, null, null];
      
      if (pointA === 100) {
        tradeoffChart.data.datasets[1].data[0] = 100;
      } else if (pointA === 75) {
        tradeoffChart.data.datasets[1].data[1] = 90;
      } else if (pointA === 50) {
        tradeoffChart.data.datasets[1].data[2] = 80;
      } else if (pointA === 25) {
        tradeoffChart.data.datasets[1].data[3] = 70;
      } else if (pointA === 0) {
        tradeoffChart.data.datasets[1].data[4] = 60;
      }
      
      tradeoffChart.update();
      
      // Update result text
      document.getElementById('tradeoffResult').innerHTML = 
        `<strong>Current Output:</strong> ${pointA} Product A, ${pointB} Product B`;
    }
    
    // Market Simulation
    let marketChart;
    
    function initMarketChart() {
      const ctx = document.getElementById('marketChart').getContext('2d');
      
      marketChart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: Array.from({length: 101}, (_, i) => i),
          datasets: [
            {
              label: 'Demand',
              data: Array.from({length: 101}, (_, i) => 100 - i),
              borderColor: '#4361ee',
              backgroundColor: 'rgba(67, 97, 238, 0.1)',
              fill: true,
              tension: 0.1,
              borderWidth: 2
            },
            {
              label: 'Supply',
              data: Array.from({length: 101}, (_, i) => i),
              borderColor: '#f72585',
              backgroundColor: 'rgba(247, 37, 133, 0.1)',
              fill: true,
              tension: 0.1,
              borderWidth: 2
            },
            {
              label: 'Price Ceiling',
              data: [],
              borderColor: '#4cc9f0',
              borderDash: [5, 5],
              borderWidth: 2,
              pointRadius: 0
            },
            {
              label: 'Price Floor',
              data: [],
              borderColor: '#f8961e',
              borderDash: [5, 5],
              borderWidth: 2,
              pointRadius: 0
            },
            {
              label: 'Equilibrium',
              data: [],
              pointBackgroundColor: '#3a0ca3',
              pointRadius: 8,
              pointHoverRadius: 10,
              showLine: false
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                boxWidth: 12,
                padding: 20,
                font: {
                  size: 12
                }
              }
            },
            tooltip: {
              backgroundColor: 'rgba(0,0,0,0.8)',
              titleFont: {
                size: 14
              },
              bodyFont: {
                size: 12
              }
            }
          },
          scales: {
            y: {
              title: {
                display: true,
                text: 'Price (₹)',
                font: {
                  weight: 'bold'
                }
              },
              beginAtZero: true,
              grid: {
                color: 'rgba(0,0,0,0.05)'
              }
            },
            x: {
              title: {
                display: true,
                text: 'Quantity',
                font: {
                  weight: 'bold'
                }
              },
              grid: {
                color: 'rgba(0,0,0,0.05)'
              }
            }
          }
        }
      });
      
      updateMarketSimulation();
    }
    
    function updateMarketSimulation() {
      const demandShift = parseInt(document.getElementById('demandShift').value);
      const supplyShift = parseInt(document.getElementById('supplyShift').value);
      const priceCeiling = parseInt(document.getElementById('priceCeiling').value);
      const priceFloor = parseInt(document.getElementById('priceFloor').value);
      
      // Update display values
      document.querySelectorAll('.market-value')[0].textContent = demandShift + '%';
      document.querySelectorAll('.market-value')[1].textContent = supplyShift + '%';
      document.querySelectorAll('.market-value')[2].textContent = '₹' + priceCeiling;
      document.querySelectorAll('.market-value')[3].textContent = priceFloor > 0 ? '₹' + priceFloor : '₹0 (No floor)';
      
      // Calculate shifted curves
      const demandData = Array.from({length: 101}, (_, i) => (100 - i) * (1 + demandShift/100));
      const supplyData = Array.from({length: 101}, (_, i) => i * (1 + supplyShift/100));
      
      // Find equilibrium (where supply = demand)
      let equilibriumPrice = 50;
      let equilibriumQuantity = 50;
      
      for (let i = 0; i <= 100; i++) {
        if (supplyData[i] >= demandData[i]) {
          equilibriumPrice = demandData[i];
          equilibriumQuantity = i;
          break;
        }
      }
      
      // Apply price controls
      let effectivePrice = equilibriumPrice;
      let effectiveQuantity = equilibriumQuantity;
      let controlMessage = "";
      
      if (priceCeiling > 0 && priceCeiling < equilibriumPrice) {
        effectivePrice = priceCeiling;
        // Find quantity where demand = price ceiling
        for (let i = 0; i <= 100; i++) {
          if (demandData[i] <= priceCeiling) {
            effectiveQuantity = i;
            break;
          }
        }
        controlMessage = ` (Price ceiling binding at ₹${priceCeiling})`;
      }
      
      if (priceFloor > 0 && priceFloor > equilibriumPrice) {
        effectivePrice = priceFloor;
        // Find quantity where supply = price floor
        for (let i = 0; i <= 100; i++) {
          if (supplyData[i] >= priceFloor)
